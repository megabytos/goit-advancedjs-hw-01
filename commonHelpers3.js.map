{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_FORM_STATE_KEY = 'feedback-form-state';\nconst feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('input[name=\"email\"]');\nconst messageInput = document.querySelector('textarea[name=\"message\"]');\n\nconst getFormData = function () {\n  return { email: emailInput.value, message: messageInput.value };\n};\n\nconst saveFormData = function () {\n  localStorage.setItem(STORAGE_FORM_STATE_KEY, JSON.stringify(getFormData()));\n};\n\nconst loadFormData = function () {\n  const savedData = localStorage.getItem(STORAGE_FORM_STATE_KEY);\n  if (!!savedData) {\n    const { email, message } = JSON.parse(savedData);\n    emailInput.value = email || '';\n    messageInput.value = message || '';\n  }\n};\n\nconst submitHandler = function (event) {\n  event.preventDefault();\n  console.log(getFormData());\n  localStorage.removeItem(STORAGE_FORM_STATE_KEY);\n  feedbackForm.reset();\n};\n\nfeedbackForm.addEventListener('submit', submitHandler);\nfeedbackForm.addEventListener('input', throttle(saveFormData, 500));\ndocument.addEventListener('DOMContentLoaded', loadFormData);\n"],"names":["STORAGE_FORM_STATE_KEY","feedbackForm","emailInput","messageInput","getFormData","saveFormData","loadFormData","savedData","email","message","submitHandler","event","throttle"],"mappings":"wIAEA,MAAMA,EAAyB,sBACzBC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAe,SAAS,cAAc,0BAA0B,EAEhEC,EAAc,UAAY,CAC9B,MAAO,CAAE,MAAOF,EAAW,MAAO,QAASC,EAAa,MAC1D,EAEME,EAAe,UAAY,CAC/B,aAAa,QAAQL,EAAwB,KAAK,UAAUI,EAAa,CAAA,CAAC,CAC5E,EAEME,EAAe,UAAY,CAC/B,MAAMC,EAAY,aAAa,QAAQP,CAAsB,EAC7D,GAAMO,EAAW,CACf,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAK,KAAK,MAAMF,CAAS,EAC/CL,EAAW,MAAQM,GAAS,GAC5BL,EAAa,MAAQM,GAAW,EACjC,CACH,EAEMC,EAAgB,SAAUC,EAAO,CACrCA,EAAM,eAAc,EACpB,QAAQ,IAAIP,EAAW,CAAE,EACzB,aAAa,WAAWJ,CAAsB,EAC9CC,EAAa,MAAK,CACpB,EAEAA,EAAa,iBAAiB,SAAUS,CAAa,EACrDT,EAAa,iBAAiB,QAASW,EAASP,EAAc,GAAG,CAAC,EAClE,SAAS,iBAAiB,mBAAoBC,CAAY"}